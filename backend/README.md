# Lakshya Backend

## Initialization Scripts

You can populate the database with seed data (courses + quizzes) using the init scripts inside `backend/init`.

### Full Initialization
Runs courses, Class 10 stream quiz, and Class 12 PCM field quiz.

```
node init/index.js
```

### Individual Quiz Initialization
Run only the Class 12 PCM quiz (creates it if not present):

```
node init/quizzes/class12-pcm-quiz.js
```

Run only the Class 10 stream selection quiz:
```
node init/class10-quiz.js
```

### Environment
Create a `.env` file in `backend/` if not present:
```
MONGODB_URI=mongodb://localhost:27017/lakshya
GEMINI_API_KEY=YOUR_KEY
```

### Class 12 PCM Quiz Structure
Stored in `init/quizzes/class12-pcm-quiz.js`. 12 questions focusing on:
- Cognitive/problem preference
- Practical vs theoretical orientation
- Spatial/design inclination
- Research depth vs application
- Motivation & future orientation

### Idempotency
Scripts first check if a quiz already exists (by `targetClass`, `purpose`, and `stream` for Class 12) and skip creation if found.

### After Seeding
API endpoints:
- `GET /api/quiz/class12/pcm` – fetch quiz
- `POST /api/quiz/class12/pcm/submit` – submit answers

Response returns `recommendations[0]` with: `fieldId, fieldName, explanation, keyStrengths, studyTips, aiGenerated`.

### Troubleshooting
- If you edit quiz questions and want to recreate, delete the existing document manually from the `quizzes` collection.
- Ensure MongoDB is running locally or provide a remote URI.
- Gemini errors: confirm `GEMINI_API_KEY` is valid.

---
Generated by automation. Update as needed.
